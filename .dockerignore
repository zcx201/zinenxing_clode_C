# ============================================================================
# Docker构建忽略文件 (.dockerignore)
#
# 此文件指定在执行 docker build 时应该忽略的文件和目录
# 这样可以：
# 1. 减小构建上下文的大小（加快构建速度）
# 2. 防止敏感文件进入Docker镜像
# 3. 避免不必要的缓存失效
# ============================================================================

# ============================================================================
# Git和版本控制相关
# ============================================================================

.git/                           # Git版本库（构建不需要）
.gitignore                      # Git配置文件
.gitattributes                  # Git属性配置
.github/                        # GitHub CI/CD配置、工作流文件

# ============================================================================
# IDE和编辑器配置
# ============================================================================

.vscode/                        # Visual Studio Code配置
.idea/                          # JetBrains IDE配置（IntelliJ, WebStorm等）
.vscode-test/                   # VS Code测试配置
*.sublime-project               # Sublime Text项目文件
*.sublime-workspace             # Sublime Text工作区
.DS_Store                       # macOS系统文件
Thumbs.db                       # Windows缩略图缓存

# ============================================================================
# npm和包管理相关
# ============================================================================

node_modules/                   # npm包目录（Docker中会重新install）
package-lock.json              # 在Docker中会重新生成
npm-debug.log*                  # npm调试日志
yarn.lock                       # Yarn锁文件（如果使用）
.pnpm-store/                    # pnpm包存储

# ============================================================================
# 构建产物和临时文件
# ============================================================================

dist/                           # 旧的构建产物（Docker中会重新build）
build/                          # 构建目录
.next/                          # Next.js缓存
.cache/                         # 通用缓存目录
*.log                           # 所有日志文件
*.tmp                           # 临时文件
.turbo/                         # Turbo缓存

# ============================================================================
# 测试相关文件（可选，根据CI/CD需求调整）
# ============================================================================

coverage/                       # 测试覆盖率报告
.nyc_output/                    # nyc测试覆盖率输出
test-results/                   # 测试结果输出
*.test.js                       # 测试文件（可选：如果不想在容器中运行测试）

# ============================================================================
# 环境和配置文件（敏感信息）
# ============================================================================

.env                            # 本地环境变量（不要打包到镜像）
.env.local                      # 本地.env覆盖文件
.env.development.local          # 开发本地env
.env.test.local                 # 测试本地env
.env.production.local           # 生产本地env
.env.*.local                    # 所有本地env文件

# ============================================================================
# 系统文件和垃圾文件
# ============================================================================

.DS_Store                       # macOS目录元数据
.AppleDouble                    # macOS文件属性
.LSOverride                     # macOS快捷方式
._*                             # macOS隐藏文件前缀
Thumbs.db                       # Windows缩略图缓存
ehthumbs.db                     # Windows缩略图数据库
Desktop.ini                     # Windows桌面配置

# ============================================================================
# 文档和项目管理文件
# ============================================================================

README.md                       # README（生产不需要）
*.md                            # 所有markdown文档
CHANGES.md                      # 变更日志
api_design.md                   # API设计文档
database_schema.md              # 数据库架构文档
pdf_api_evaluation.md           # PDF API评估

# ============================================================================
# 数据库和SQL相关
# ============================================================================

*.sql                           # SQL文件（生产应该从远端获取）
sql/                            # SQL目录
migrations/                     # 数据库迁移文件
*.db                            # SQLite数据库文件
*.sqlite                        # SQLite文件
*.sqlite3                       # SQLite3文件

# ============================================================================
# 开发脚本和工具
# ============================================================================

*.py                            # Python脚本（如果仅用于开发）
*.ps1                           # PowerShell脚本
run_migration.py                # 迁移运行脚本
migration_manager.py            # 迁移管理脚本
extract_pdf.py                  # PDF提取脚本
*.sh                            # Shell脚本（除非必要）

# ============================================================================
# 文档附件和多媒体
# ============================================================================

*.pdf                           # PDF文件（除非是必要的应用资源）
*.xlsx                          # Excel文件
*.xls                           # Excel文件
*.csv                           # CSV文件
*.json.bak                      # 备份JSON文件
*.opml                          # OPML文件
*.mm                            # MindMap文件

# ============================================================================
# 构建工具配置（可选，Docker中不需要）
# ============================================================================

vite.config.js                  # Vite配置（可选：如果在Dockerfile中已hardcode）
tailwind.config.js              # Tailwind配置（可选）
postcss.config.js               # PostCSS配置（可选）
vitest.config.js                # Vitest配置（可选）
.eslintrc.cjs                   # ESLint配置（可选）
.eslintignore                   # ESLint忽略配置（可选）

# ============================================================================
# 其他目录（根据需求调整）
# ============================================================================

tests/                          # 测试目录（可选）
.vscode/                        # 开发工具配置（可选）
docs/                           # 文档目录（可选）
examples/                       # 示例目录（可选）

# ============================================================================
# Dockerfile本身（不需要复制到镜像中）
# ============================================================================

Dockerfile                      # Dockerfile本身
docker-compose.yml              # Docker Compose配置
docker-compose.*.yml            # 其他compose配置
.dockerignore                   # 本文件本身

# ============================================================================
# 容器和云平台相关
# ============================================================================

.docker/                        # Docker相关文件
.kubernetes/                    # Kubernetes配置
.helm/                          # Helm图表
k8s/                            # Kubernetes文件

# ============================================================================
# CI/CD流程文件（通常构建不需要）
# ============================================================================

.gitlab-ci.yml                  # GitLab CI配置
.github/                        # GitHub工作流
.circleci/                      # CircleCI配置
Jenkinsfile                     # Jenkins配置
.travis.yml                     # Travis CI配置

# ============================================================================
# 许可证和权属（可选：如果需要可以注释掉）
# ============================================================================

LICENSE                         # 许可证文件（建议保留）
COPYING                         # 复制说明（可选）

# ============================================================================
# 说明：
# - 注释掉某一行可以将其包含在Docker构建中
# - 使用通配符*匹配多个文件
# - 使用!前缀可以排除忽略列表（精确包含某个文件）
# 
# 示例：
# !/node_modules/critical-package/  # 强制包含某个关键包（不推荐）
# ============================================================================
