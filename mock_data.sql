-- 智能鑫AI系统模拟数据插入脚本
-- 创建时间: 2025-12-14
-- 数据库: stockdb

-- 开始事务
BEGIN;

-- 1. 插入用户数据（10个真实用户）
INSERT INTO users (username, email, password_hash, phone, avatar, status, created_at, last_login) VALUES
('张伟', 'zhangwei@example.com', '$2a$10$c6bKQo5eX9Y8Z7W6V5U4T', '13800138001', '用户', 'active', '2024-10-01 10:30:00', '2025-12-14 09:15:30'),
('李娜', 'lina@example.com', '$2a$10$B5A4S3D2F1G0H9J8K7L6', '13900139002', '用户', 'active', '2024-10-15 14:20:00', '2025-12-13 16:45:20'),
('王强', 'wangqiang@example.com', '$2a$10$M9N8B7V6C5X4Z3A2S1D0', '13700137003', '用户', 'active', '2024-11-05 09:45:00', '2025-12-14 10:20:15'),
('赵敏', 'zhaomin@example.com', '$2a$10$P3O2I1U0Y9T8R7E6W5Q4', '13600136004', '用户', 'active', '2024-11-20 11:15:00', '2025-12-12 14:50:45'),
('陈杰', 'chenjie@example.com', '$2a$10$L7K6J5H4G3F2D1S0A9B8', '13500135005', '用户', 'active', '2024-12-01 16:30:00', '2025-12-14 08:30:20'),
('刘洋', 'liuyang@example.com', '$2a$10$V5B6N7M8K9L0J1H2G3F4', '13400134006', '用户', 'active', '2024-12-15 13:45:00', '2025-12-13 11:25:30'),
('孙丽', 'sunli@example.com', '$2a$10$C3D4E5F6G7H8I9J0K1L2', '13300133007', '用户', 'inactive', '2025-01-05 10:15:00', '2025-12-01 09:40:10'),
('周明', 'zhouming@example.com', '$2a$10$K7J6I5H4G3F2D1S0A9B8', '13200132008', '用户', 'active', '2025-01-20 15:20:00', '2025-12-14 11:05:45'),
('吴敏', 'wumin@example.com', '$2a$10$X3Z4C5V6B7N8M9L0K1J2', '13100131009', '用户', 'active', '2025-02-01 09:30:00', '2025-12-13 14:20:30'),
('郑涛', 'zhengtao@example.com', '$2a$10$Q5W6E7R8T9Y0U1I2O3P4', '13000130010', '用户', 'active', '2025-02-15 16:45:00', '2025-12-14 10:10:25');

-- 2. 插入股票数据（15只真实股票，涵盖不同行业）
INSERT INTO stocks (stock_code, stock_name, market_type, industry, listing_date, is_active) VALUES
('600036', '招商银行', 'A股', '银行', '2002-04-09', true),
('000858', '五粮液', 'A股', '酿酒', '1998-04-27', true),
('600519', '贵州茅台', 'A股', '酿酒', '2001-08-27', true),
('000001', '平安银行', 'A股', '银行', '1991-04-03', true),
('002415', '海康威视', 'A股', '电子', '2010-05-28', true),
('601318', '中国平安', 'A股', '保险', '2007-03-01', true),
('300750', '宁德时代', 'A股', '新能源', '2018-06-11', true),
('600028', '中国石化', 'A股', '石油', '2001-08-08', true),
('601288', '农业银行', 'A股', '银行', '2010-07-15', true),
('000002', '万科A', 'A股', '房地产', '1991-01-29', true),
('AAPL', '苹果', '美股', '科技', '1980-12-12', true),
('MSFT', '微软', '美股', '科技', '1986-03-13', true),
('GOOGL', '谷歌', '美股', '科技', '2004-08-19', true),
('TSLA', '特斯拉', '美股', '新能源', '2010-06-29', true),
('BABA', '阿里巴巴', '美股', '电商', '2014-09-19', true);

-- 3. 插入自选股数据（每个用户随机选择3-5只股票）
INSERT INTO favorites (user_id, stock_id, added_at, notes, alert_price) VALUES
(1, 1, '2025-01-10 14:30:00', '长期持有，稳健增长', 45.00),
(1, 2, '2025-02-15 09:45:00', '白酒龙头，春节行情', 180.00),
(1, 7, '2025-03-20 11:20:00', '新能源赛道，高成长', 220.00),
(2, 3, '2025-01-05 16:15:00', '茅台永远的神', 1800.00),
(2, 5, '2025-02-10 14:30:00', '安防龙头，AI赋能', 35.00),
(2, 9, '2025-03-05 10:20:00', '低估值，高股息', 3.20),
(3, 6, '2025-01-20 15:45:00', '保险龙头，综合金融', 55.00),
(3, 7, '2025-02-25 09:30:00', '动力电池全球第一', 230.00),
(3, 11, '2025-03-10 14:20:00', '苹果生态，创新驱动', 190.00),
(3, 14, '2025-04-05 11:15:00', '电动车革命', 250.00),
(4, 1, '2025-01-15 16:30:00', '零售银行龙头', 48.00),
(4, 4, '2025-02-20 10:15:00', '深圳本地银行', 15.00),
(4, 8, '2025-03-25 14:45:00', '能源安全，稳定分红', 5.50),
(5, 2, '2025-01-12 09:30:00', '五粮液，浓香型白酒', 175.00),
(5, 5, '2025-02-18 11:20:00', 'AI视频分析', 38.00),
(5, 10, '2025-03-22 15:15:00', '房地产龙头，稳健', 12.00),
(5, 13, '2025-04-10 14:30:00', 'AI搜索，云计算', 140.00),
(6, 3, '2025-01-08 16:45:00', '酱香酒王', 1750.00),
(6, 6, '2025-02-28 10:30:00', '平安集团，综合金融', 58.00),
(6, 11, '2025-03-15 14:20:00', 'iPhone，服务生态', 185.00),
(6, 12, '2025-04-08 11:15:00', 'AI，云，游戏', 420.00),
(7, 7, '2025-01-25 09:45:00', '新能源电池', 215.00),
(7, 9, '2025-02-12 15:30:00', '农业银，低估值', 3.30),
(8, 1, '2025-01-30 14:20:00', '招商银行，零售之王', 46.00),
(8, 5, '2025-03-02 10:15:00', '海康，安防AI', 36.00),
(8, 10, '2025-03-28 15:45:00', '万科，房地产', 13.00),
(8, 14, '2025-04-15 11:30:00', '特斯拉，电动车', 260.00),
(9, 3, '2025-01-03 09:30:00', '茅台，国酒', 1820.00),
(9, 6, '2025-02-05 14:30:00', '中国平安，保险', 56.00),
(9, 12, '2025-03-18 10:45:00', '微软，AI领导者', 430.00),
(9, 15, '2025-04-20 15:20:00', '阿里巴巴，电商', 85.00),
(10, 2, '2025-01-22 11:20:00', '五粮液，白酒', 178.00),
(10, 7, '2025-02-15 14:45:00', '宁德时代，新能源', 225.00),
(10, 11, '2025-03-25 09:30:00', '苹果，科技', 195.00),
(10, 13, '2025-04-12 16:15:00', '谷歌，AI', 145.00);

-- 4. 插入好友关系数据（每个用户随机有3-5个好友）
INSERT INTO friend_relationships (user_id, friend_id, status, created_at, accepted_at) VALUES
(1, 2, 'accepted', '2025-02-01 10:30:00', '2025-02-01 10:35:00'),
(1, 3, 'accepted', '2025-02-15 14:20:00', '2025-02-15 14:25:00'),
(1, 4, 'accepted', '2025-03-01 09:45:00', '2025-03-01 09:50:00'),
(1, 5, 'pending', '2025-12-14 09:15:00', NULL),
(2, 1, 'accepted', '2025-02-01 10:35:00', '2025-02-01 10:35:00'),
(2, 3, 'accepted', '2025-02-20 11:15:00', '2025-02-20 11:20:00'),
(2, 6, 'accepted', '2025-03-05 16:30:00', '2025-03-05 16:35:00'),
(2, 7, 'blocked', '2025-04-10 13:45:00', NULL),
(3, 1, 'accepted', '2025-02-15 14:25:00', '2025-02-15 14:25:00'),
(3, 2, 'accepted', '2025-02-20 11:20:00', '2025-02-20 11:20:00'),
(3, 8, 'accepted', '2025-03-15 10:15:00', '2025-03-15 10:20:00'),
(3, 9, 'accepted', '2025-04-01 14:30:00', '2025-04-01 14:35:00'),
(4, 1, 'accepted', '2025-03-01 09:50:00', '2025-03-01 09:50:00'),
(4, 5, 'accepted', '2025-03-20 15:45:00', '2025-03-20 15:50:00'),
(4, 10, 'accepted', '2025-04-15 11:20:00', '2025-04-15 11:25:00'),
(5, 1, 'pending', '2025-12-14 09:15:00', NULL),
(5, 4, 'accepted', '2025-03-20 15:50:00', '2025-03-20 15:50:00'),
(5, 6, 'accepted', '2025-04-05 14:20:00', '2025-04-05 14:25:00'),
(5, 8, 'accepted', '2025-04-20 10:30:00', '2025-04-20 10:35:00'),
(6, 2, 'accepted', '2025-03-05 16:35:00', '2025-03-05 16:35:00'),
(6, 5, 'accepted', '2025-04-05 14:25:00', '2025-04-05 14:25:00'),
(6, 9, 'accepted', '2025-04-12 15:15:00', '2025-04-12 15:20:00'),
(7, 2, 'blocked', '2025-04-10 13:50:00', NULL),
(8, 3, 'accepted', '2025-03-15 10:20:00', '2025-03-15 10:20:00'),
(8, 5, 'accepted', '2025-04-20 10:35:00', '2025-04-20 10:35:00'),
(8, 10, 'accepted', '2025-05-01 14:45:00', '2025-05-01 14:50:00'),
(9, 3, 'accepted', '2025-04-01 14:35:00', '2025-04-01 14:35:00'),
(9, 6, 'accepted', '2025-04-12 15:20:00', '2025-04-12 15:20:00'),
(9, 10, 'accepted', '2025-05-05 11:30:00', '2025-05-05 11:35:00'),
(10, 4, 'accepted', '2025-04-15 11:25:00', '2025-04-15 11:25:00'),
(10, 8, 'accepted', '2025-05-01 14:50:00', '2025-05-01 14:50:00'),
(10, 9, 'accepted', '2025-05-05 11:35:00', '2025-05-05 11:35:00');

-- 5. 插入好友聊天消息数据（用户之间的互动）
INSERT INTO friend_messages (sender_id, receiver_id, content, message_type, stock_reference, sent_at, is_read) VALUES
(1, 2, '李娜，今天茅台涨了5%，你看到了吗？', 'text', 3, '2025-12-13 09:30:00', true),
(2, 1, '看到了，张伟，我早就说茅台是价值投资的典范！', 'text', 3, '2025-12-13 09:35:00', true),
(1, 3, '王强，宁德时代最近回调了，你怎么看？', 'text', 7, '2025-12-13 14:20:00', true),
(3, 1, '短期调整，长期还是看好新能源赛道，我准备加仓', 'text', 7, '2025-12-13 14:25:00', true),
(2, 3, '王强，你觉得海康威视怎么样？我想入手', 'text', 5, '2025-12-13 16:15:00', true),
(3, 2, '海康的AI能力很强，安防市场占有率高，可以考虑', 'text', 5, '2025-12-13 16:20:00', true),
(4, 1, '张伟，招商银行的年报出来了，业绩不错', 'text', 1, '2025-12-14 08:45:00', true),
(1, 4, '赵敏，我也看到了，零售业务增长很快', 'text', 1, '2025-12-14 08:50:00', true),
(5, 4, '赵敏，最近有什么好股票推荐吗？', 'text', NULL, '2025-12-14 09:10:00', true),
(4, 5, '陈杰，宁德时代和海康威视都不错，可以关注', 'text', NULL, '2025-12-14 09:15:00', true),
(6, 2, '李娜，苹果的MR头显发布了，你觉得会带动股价吗？', 'text', 11, '2025-12-14 10:20:00', true),
(2, 6, '刘洋，苹果的生态很强，应该会有一波行情', 'text', 11, '2025-12-14 10:25:00', true),
(8, 3, '王强，万科的分红不错，你考虑过吗？', 'text', 10, '2025-12-14 11:15:00', true),
(3, 8, '周明，房地产现在政策不错，万科是行业龙头，可以考虑', 'text', 10, '2025-12-14 11:20:00', true),
(9, 10, '郑涛，特斯拉的全自动驾驶进展如何？', 'text', 14, '2025-12-14 13:30:00', false),
(10, 9, '吴敏，特斯拉的FSD Beta现在很成熟了，我在试驾', 'text', 14, '2025-12-14 13:35:00', false);

-- 6. 插入AI推荐记录数据（每个用户有2-3条AI推荐）
INSERT INTO ai_recommendations (user_id, stock_id, confidence_score, reasoning, recommended_at, user_feedback) VALUES
(1, 7, 92.50, '宁德时代作为全球最大的动力电池供应商，市场占有率超过35%，受益于新能源汽车的快速增长。公司在技术研发和产能扩张方面持续投入，预计未来三年复合增长率将保持在25%以上。', '2025-12-01 10:30:00', 'positive'),
(1, 5, 88.20, '海康威视在AI安防领域具有领先优势，公司积极布局AI大模型和智能物联，随着国内安防市场的复苏和海外市场的拓展，公司业绩有望保持稳定增长。', '2025-12-08 14:20:00', NULL),
(2, 3, 95.80, '贵州茅台作为中国白酒行业的绝对龙头，品牌价值极高，具有很强的定价权和护城河。公司业绩稳定增长，分红率高，是价值投资的典范。', '2025-12-02 09:45:00', 'positive'),
(2, 11, 87.50, '苹果公司在AI领域的投入不断加大，Vision Pro头显的发布将开启空间计算新时代，公司的服务业务增长迅速，生态系统优势明显。', '2025-12-09 11:15:00', NULL),
(3, 14, 90.30, '特斯拉在电动车和自动驾驶领域处于领先地位，Cybertruck的交付将带动销量增长，公司的能源业务也在快速发展。预计2025年销量将突破200万辆。', '2025-12-03 16:30:00', 'positive'),
(3, 12, 89.10, '微软在AI领域布局全面，Copilot和Azure云服务增长迅速，公司的游戏业务也表现强劲。预计AI将成为公司未来增长的主要驱动力。', '2025-12-10 13:45:00', NULL),
(4, 1, 86.70, '招商银行作为零售银行龙头，资产质量优良，客户基础扎实。公司在金融科技方面持续创新，数字化转型成效显著，预计未来业绩将保持稳定增长。', '2025-12-04 10:15:00', 'positive'),
(4, 6, 84.20, '中国平安在保险、银行、资管等领域具有综合优势，随着经济复苏和保险需求的增长，公司业绩有望改善。目前估值处于历史低位，具有投资价值。', '2025-12-11 15:30:00', NULL),
(5, 5, 85.90, '海康威视的AI技术在智慧城市、智能制造等领域应用广泛，公司海外业务增长迅速，具有全球化布局优势。目前估值合理，建议关注。', '2025-12-05 14:45:00', NULL),
(5, 10, 82.60, '万科作为房地产行业龙头，财务状况稳健，融资成本低。随着房地产政策的放松和市场的复苏，公司有望受益于行业集中度的提升。', '2025-12-12 09:30:00', NULL),
(6, 12, 91.40, '微软的AI战略清晰，Copilot已经在企业市场取得成功，Azure云服务增长强劲。公司的生态系统完善，具有很强的竞争力。', '2025-12-06 11:20:00', 'positive'),
(6, 3, 88.70, '贵州茅台的品牌价值无可替代，高端白酒市场需求稳定，公司的产能扩张将支撑未来增长。长期来看，具有很高的投资价值。', '2025-12-13 14:20:00', NULL),
(7, 7, 87.30, '宁德时代在动力电池领域的技术优势明显，全球客户资源丰富。随着新能源汽车渗透率的提高，公司业绩将持续增长。', '2025-12-07 16:15:00', NULL),
(8, 1, 85.10, '招商银行的零售业务优势明显，财富管理业务增长迅速。公司的数字化转型成效显著，客户体验不断提升。', '2025-12-08 09:45:00', NULL),
(8, 5, 83.80, '海康威视在AI安防领域的市场份额领先，公司积极拓展新业务领域，具有良好的成长前景。', '2025-12-14 10:15:00', NULL),
(9, 13, 89.50, '谷歌在AI搜索和云服务领域具有领先优势，Gemini大模型的发布将提升公司的竞争力。公司的广告业务稳定，YouTube增长迅速。', '2025-12-09 14:30:00', NULL),
(9, 14, 86.90, '特斯拉的自动驾驶技术不断成熟，Cybertruck的交付将带动销量增长。公司的能源业务也在快速发展，具有多元化增长潜力。', '2025-12-15 11:15:00', NULL),
(10, 11, 90.70, '苹果公司的产品创新能力强，Vision Pro将开启新的增长空间。公司的服务业务利润率高，增长迅速，将成为未来业绩的重要增长点。', '2025-12-10 15:45:00', 'positive'),
(10, 7, 88.40, '宁德时代的全球市场占有率持续提升，公司在固态电池等新技术方面的研发进展顺利。随着全球新能源汽车市场的增长，公司业绩将保持高速增长。', '2025-12-16 09:30:00', NULL);

-- 7. 插入用户登录会话数据（模拟用户登录状态）
INSERT INTO user_sessions (user_id, session_token, login_time, last_activity, ip_address, device_info) VALUES
(1, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-14 09:15:30', '2025-12-14 10:30:00', '192.168.1.100', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'),
(2, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-13 16:45:20', '2025-12-13 17:00:00', '192.168.1.101', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36'),
(3, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-14 10:20:15', '2025-12-14 11:30:00', '192.168.1.102', 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_2 like Mac OS X) AppleWebKit/605.1.15'),
(4, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-12 14:50:45', '2025-12-12 15:05:00', '192.168.1.103', 'Mozilla/5.0 (Android 14; Mobile; rv:120.0) Gecko/120.0 Firefox/120.0'),
(5, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-14 08:30:20', '2025-12-14 09:45:00', '192.168.1.104', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'),
(6, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-13 11:25:30', '2025-12-13 12:40:00', '192.168.1.105', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36'),
(8, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-14 11:05:45', '2025-12-14 12:20:00', '192.168.1.106', 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_2 like Mac OS X) AppleWebKit/605.1.15'),
(9, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-13 14:20:30', '2025-12-13 15:35:00', '192.168.1.107', 'Mozilla/5.0 (Android 14; Mobile; rv:120.0) Gecko/120.0 Firefox/120.0'),
(10, 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...', '2025-12-14 10:10:25', '2025-12-14 11:25:00', '192.168.1.108', 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36');

-- 8. 插入市场行情数据（模拟最近7天的股票价格）
INSERT INTO market_data (stock_id, price, change_percent, change_amount, volume, timestamp) VALUES
-- 招商银行最近7天行情
(1, 46.50, 1.20, 0.55, 12500000, '2025-12-08 15:00:00'),
(1, 46.80, 0.65, 0.30, 10800000, '2025-12-09 15:00:00'),
(1, 47.20, 0.85, 0.40, 13200000, '2025-12-10 15:00:00'),
(1, 46.90, -0.63, -0.30, 9500000, '2025-12-11 15:00:00'),
(1, 47.50, 1.28, 0.60, 14500000, '2025-12-12 15:00:00'),
(1, 47.80, 0.63, 0.30, 11200000, '2025-12-13 15:00:00'),
(1, 48.20, 0.84, 0.40, 15800000, '2025-12-14 11:30:00'),
-- 贵州茅台最近7天行情
(3, 1780.50, 0.85, 15.00, 320000, '2025-12-08 15:00:00'),
(3, 1795.20, 0.83, 14.70, 280000, '2025-12-09 15:00:00'),
(3, 1810.80, 0.87, 15.60, 350000, '2025-12-10 15:00:00'),
(3, 1802.50, -0.46, -8.30, 250000, '2025-12-11 15:00:00'),
(3, 1820.30, 0.99, 17.80, 420000, '2025-12-12 15:00:00'),
(3, 1835.60, 0.84, 15.30, 380000, '2025-12-13 15:00:00'),
(3, 1848.20, 0.69, 12.60, 450000, '2025-12-14 11:30:00'),
-- 宁德时代最近7天行情
(7, 220.50, 1.15, 2.50, 28500000, '2025-12-08 15:00:00'),
(7, 223.80, 1.50, 3.30, 32000000, '2025-12-09 15:00:00'),
(7, 221.20, -1.16, -2.60, 25800000, '2025-12-10 15:00:00'),
(7, 218.50, -1.22, -2.70, 23500000, '2025-12-11 15:00:00'),
(7, 222.30, 1.74, 3.80, 29800000, '2025-12-12 15:00:00'),
(7, 225.60, 1.48, 3.30, 34200000, '2025-12-13 15:00:00'),
(7, 228.90, 1.46, 3.30, 38500000, '2025-12-14 11:30:00'),
-- 海康威视最近7天行情
(5, 35.20, 0.86, 0.30, 18500000, '2025-12-08 15:00:00'),
(5, 35.60, 1.14, 0.40, 21200000, '2025-12-09 15:00:00'),
(5, 36.10, 1.40, 0.50, 24500000, '2025-12-10 15:00:00'),
(5, 35.80, -0.83, -0.30, 16800000, '2025-12-11 15:00:00'),
(5, 36.30, 1.40, 0.50, 22300000, '2025-12-12 15:00:00'),
(5, 36.70, 1.10, 0.40, 20500000, '2025-12-13 15:00:00'),
(5, 37.10, 1.09, 0.40, 25800000, '2025-12-14 11:30:00'),
-- 苹果最近7天行情
(11, 185.20, 0.98, 1.80, 45200000, '2025-12-08 21:00:00'),
(11, 188.50, 1.78, 3.30, 52800000, '2025-12-09 21:00:00'),
(11, 190.20, 0.90, 1.70, 48500000, '2025-12-10 21:00:00'),
(11, 188.80, -0.74, -1.40, 41200000, '2025-12-11 21:00:00'),
(11, 191.50, 1.43, 2.70, 55800000, '2025-12-12 21:00:00'),
(11, 193.80, 1.20, 2.30, 51200000, '2025-12-13 21:00:00'),
(11, 195.20, 0.72, 1.40, 47500000, '2025-12-14 16:30:00');

-- 提交事务
COMMIT;

-- 显示插入结果
SELECT '模拟数据插入完成！' AS result;
